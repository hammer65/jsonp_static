<link rel="import" href="../bower_components/polymer/polymer.html" />

<dom-module id="app-storage">
  <template>
    <style>
      :host{
        display:none;
      };
    </style>
  </template>
</dom-module>
<script>
  (function(){
    var _storage = [];

    Polymer({
      is: 'app-storage',
      properties:{
        name:{
          type: String
        }
      },
      set: function(id,newVal){
        if(_storage == null){
          _storage.save([]);
        }
        _storage[id] = newVal;
        var eName = this.name + "-change"
        console.log(eName);
        this.fire(eName,_storage);
      },
      get: function(id){
        return _storage[id];
      },
      getAll: function(){
        ret = [];
        if(_storage != null){
          ret = _storage;
        }
        return ret;
      },
      deleteItem:function(id){
        delete _storage[id];
        var eName = this.name = '-change';
        this.fire(eName,_storage)
      }
    });
  })();
    
</script>